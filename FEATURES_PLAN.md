# üìã –ü–ª–∞–Ω —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

## üîÑ –ó–º—ñ–Ω–∏ –≤ —ñ—Å–Ω—É—é—á—ñ–π —Å–∏—Å—Ç–µ–º—ñ

### 1. –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–º—ñ—Å—ñ—ó —Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç–∏

#### Backend –∑–º—ñ–Ω–∏:
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–ª–æ–Ω–∫—É `commission` –∑ —Ç–∞–±–ª–∏—Ü—ñ `sales`
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∫–æ–º—ñ—Å—ñ—ó (12%) –∑ `backend/src/routes/sales.ts`
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–º—ñ—Å—ñ—é –∑ API endpoints:
  - `/api/stats/dashboard` - –≤–∏–¥–∞–ª–∏—Ç–∏ `commission_today`
  - `/api/stats/seller` - –≤–∏–¥–∞–ª–∏—Ç–∏ `commission_today`
  - `/api/employees` - –≤–∏–¥–∞–ª–∏—Ç–∏ `commission_today`
  - `/api/sales` - –≤–∏–¥–∞–ª–∏—Ç–∏ `commission` –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
  - `/api/kiosks` - –≤–∏–¥–∞–ª–∏—Ç–∏ `total_commission`

#### Frontend –∑–º—ñ–Ω–∏:
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ–º—ñ—Å—ñ—ó –∑:
  - `frontend/src/pages/admin/Dashboard.tsx` - –∫–∞—Ä—Ç–∫–∞ "–ö–æ–º—ñ—Å—ñ—è –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤"
  - `frontend/src/pages/admin/Sales.tsx` - –∫–æ–ª–æ–Ω–∫–∞ "–ö–æ–º—ñ—Å—ñ—è", –ø—ñ–¥—Å—É–º–æ–∫
  - `frontend/src/pages/admin/Employees.tsx` - –∫–æ–ª–æ–Ω–∫–∞ "–ó–∞—Ä–ø–ª–∞—Ç–∞ (12%)"
  - `frontend/src/pages/seller/Dashboard.tsx` - –∫–∞—Ä—Ç–∫–∞ "–ú–æ—è –∫–æ–º—ñ—Å—ñ—è", –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ –∫–æ—à–∏–∫—É
  - `frontend/src/pages/admin/Kiosks.tsx` - —è–∫—â–æ —î –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ–º—ñ—Å—ñ—ó

#### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–ª–æ–Ω–∫–∏ `commission` –∑ `sales`
- [ ] –û–Ω–æ–≤–∏—Ç–∏ `backend/src/db/init.ts` (–≤–∏–¥–∞–ª–∏—Ç–∏ `commission` –∑ CREATE TABLE)

---

## ‚ú® –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó: –û–±–ª—ñ–∫ —Ñ—ñ–Ω–∞–Ω—Å—ñ–≤

### 2. –°–∏—Å—Ç–µ–º–∞ –æ–±–ª—ñ–∫—É –≤–∏—Ç—Ä–∞—Ç

#### 2.1. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

**–ù–æ–≤–∞ —Ç–∞–±–ª–∏—Ü—è `expenses` (–≤–∏—Ç—Ä–∞—Ç–∏):**
```sql
CREATE TABLE expenses (
  id SERIAL PRIMARY KEY,
  kiosk_id INTEGER REFERENCES kiosks(id) ON DELETE CASCADE,
  category VARCHAR(50) NOT NULL, -- 'rent', 'purchase', 'other'
  description TEXT,
  amount DECIMAL(10, 2) NOT NULL,
  date DATE NOT NULL,
  created_by INTEGER REFERENCES users(id),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ `products`:**
```sql
ALTER TABLE products ADD COLUMN purchase_price DECIMAL(10, 2); -- –°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å
```

#### 2.2. Backend API

**–ù–æ–≤—ñ endpoints `/api/expenses`:**
- [ ] `GET /api/expenses` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤–∏—Ç—Ä–∞—Ç–∏ (–∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏: –¥–∞—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä—ñ—è, –ª–∞—Ä—å–æ–∫)
- [ ] `POST /api/expenses` - –¥–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É
- [ ] `PUT /api/expenses/:id` - —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É
- [ ] `DELETE /api/expenses/:id` - –≤–∏–¥–∞–ª–∏—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É
- [ ] `GET /api/expenses/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏—Ç—Ä–∞—Ç (–∑–∞ –ø–µ—Ä—ñ–æ–¥, –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö)

**–û–Ω–æ–≤–ª–µ–Ω–Ω—è `/api/products`:**
- [ ] –î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ `purchase_price` (—Å–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å) –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ —Ç–æ–≤–∞—Ä—É
- [ ] –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –º–∞—Ä–∂—ñ: `margin = price - purchase_price`
- [ ] –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ: `margin_percent = (margin / price) * 100`

**–û–Ω–æ–≤–ª–µ–Ω–Ω—è `/api/stats/dashboard`:**
- [ ] –î–æ–¥–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∏—Ç—Ä–∞—Ç –∑–∞ –¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å
- [ ] –î–æ–¥–∞—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—Ä–∏–±—É—Ç–∫—É: `profit = revenue - expenses`
- [ ] –î–æ–¥–∞—Ç–∏ –º–∞—Ä–∂—É: `total_margin = SUM(price - purchase_price)`

#### 2.3. Frontend - –°—Ç–æ—Ä—ñ–Ω–∫–∞ "–§—ñ–Ω–∞–Ω—Å–∏"

**–ù–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ `/finances`:**
- [ ] –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  - –í–∏—Ä—É—á–∫–∞ –∑–∞ –ø–µ—Ä—ñ–æ–¥
  - –í–∏—Ç—Ä–∞—Ç–∏ –∑–∞ –ø–µ—Ä—ñ–æ–¥
  - –ü—Ä–∏–±—É—Ç–æ–∫ (–≤–∏—Ä—É—á–∫–∞ - –≤–∏—Ç—Ä–∞—Ç–∏)
  - –ú–∞—Ä–∂–∞ (—Å—É–º–∞ –º–∞—Ä–∂—ñ –∑ –ø—Ä–æ–¥–∞–∂—ñ–≤)
  - –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (%)
- [ ] –ì—Ä–∞—Ñ—ñ–∫–∏:
  - –ì—Ä–∞—Ñ—ñ–∫ –≤–∏—Ä—É—á–∫–∏ vs –≤–∏—Ç—Ä–∞—Ç (–∑–∞ —Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å)
  - –ì—Ä–∞—Ñ—ñ–∫ –ø—Ä–∏–±—É—Ç–∫—É
  - –ì—Ä–∞—Ñ—ñ–∫ –≤–∏—Ç—Ä–∞—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö
- [ ] –¢–∞–±–ª–∏—Ü—è –≤–∏—Ç—Ä–∞—Ç:
  - –î–∞—Ç–∞
  - –ö–∞—Ç–µ–≥–æ—Ä—ñ—è (–û—Ä–µ–Ω–¥–∞, –ó–∞–∫—É–ø–∫–∞, –Ü–Ω—à–µ)
  - –û–ø–∏—Å
  - –°—É–º–∞
  - –õ–∞—Ä—å–æ–∫
  - –î—ñ—ó (—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏, –≤–∏–¥–∞–ª–∏—Ç–∏)
- [ ] –§—ñ–ª—å—Ç—Ä–∏:
  - –ü–µ—Ä—ñ–æ–¥ (–¥–µ–Ω—å, —Ç–∏–∂–¥–µ–Ω—å, –º—ñ—Å—è—Ü—å, –∫–∞—Å—Ç–æ–º–Ω–∏–π)
  - –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –≤–∏—Ç—Ä–∞—Ç
  - –õ–∞—Ä—å–æ–∫
- [ ] –ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É" (–º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ)

#### 2.4. –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ "–î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É"

**–ü–æ–ª—è —Ñ–æ—Ä–º–∏:**
- [ ] –ö–∞—Ç–µ–≥–æ—Ä—ñ—è (–≤–∏–±—ñ—Ä):
  - –û—Ä–µ–Ω–¥–∞
  - –ó–∞–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä—É
  - –Ü–Ω—à–µ
- [ ] –û–ø–∏—Å (—Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ)
- [ ] –°—É–º–∞ (—á–∏—Å–ª–æ, –æ–±–æ–≤'—è–∑–∫–æ–≤–µ)
- [ ] –î–∞—Ç–∞ (date picker, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Å—å–æ–≥–æ–¥–Ω—ñ)
- [ ] –õ–∞—Ä—å–æ–∫ (–≤–∏–±—ñ—Ä, —è–∫—â–æ –∫—ñ–ª—å–∫–∞ –ª–∞—Ä—å–∫—ñ–≤)

#### 2.5. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ "–¢–æ–≤–∞—Ä–∏"

**–î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ "–°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å":**
- [ ] –ü–æ–ª–µ `purchase_price` —É —Ñ–æ—Ä–º—ñ –¥–æ–¥–∞–≤–∞–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É
- [ ] –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–∞—Ä–∂—ñ —Ç–∞ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –≤ —Ç–∞–±–ª–∏—Ü—ñ —Ç–æ–≤–∞—Ä—ñ–≤
- [ ] –§—ñ–ª—å—Ç—Ä —Ç–æ–≤–∞—Ä—ñ–≤ –∑–∞ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ñ—Å—Ç—é
- [ ] –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –º–∞—Ä–∂–µ—é (–Ω–∞–π–≤–∏—â–∞/–Ω–∞–π–Ω–∏–∂—á–∞)

#### 2.6. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞—à–±–æ—Ä–¥—É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–ù–æ–≤—ñ –∫–∞—Ä—Ç–∫–∏:**
- [ ] –í–∏—Ç—Ä–∞—Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ
- [ ] –ü—Ä–∏–±—É—Ç–æ–∫ —Å—å–æ–≥–æ–¥–Ω—ñ (–≤–∏—Ä—É—á–∫–∞ - –≤–∏—Ç—Ä–∞—Ç–∏)
- [ ] –ú–∞—Ä–∂–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
- [ ] –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (%)

**–û–Ω–æ–≤–∏—Ç–∏ —ñ—Å–Ω—É—é—á—ñ:**
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É "–ö–æ–º—ñ—Å—ñ—è –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫—ñ–≤"
- [ ] –î–æ–¥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É "–§—ñ–Ω–∞–Ω—Å–∏"

---

## üìä –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### 3. –†–æ–∑—à–∏—Ä–µ–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ñ—ñ–Ω–∞–Ω—Å—ñ–≤

- [ ] –ï–∫—Å–ø–æ—Ä—Ç —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –∑–≤—ñ—Ç—ñ–≤ (CSV/Excel):
  - –ó–≤—ñ—Ç –ø–æ –≤–∏—Ç—Ä–∞—Ç–∞—Ö
  - –ó–≤—ñ—Ç –ø–æ –ø—Ä–∏–±—É—Ç–∫—É
  - –ó–≤—ñ—Ç –ø–æ –º–∞—Ä–∂—ñ
- [ ] –ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è:
  - –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–∏–±—É—Ç–∫—É –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –º—ñ—Å—è—Ü—å
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –≤–∏—Ç—Ä–∞—Ç
- [ ] –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥—ñ–≤:
  - –ü—Ä–∏–±—É—Ç–æ–∫ —Ü—å–æ–≥–æ –º—ñ—Å—è—Ü—è vs –º–∏–Ω—É–ª–æ–≥–æ –º—ñ—Å—è—Ü—è
  - –í–∏—Ç—Ä–∞—Ç–∏ —Ü—å–æ–≥–æ –º—ñ—Å—è—Ü—è vs –º–∏–Ω—É–ª–æ–≥–æ –º—ñ—Å—è—Ü—è

### 4. –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤–∏—Ç—Ä–∞—Ç

**–†–æ–∑—à–∏—Ä–µ–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó:**
- [ ] –û—Ä–µ–Ω–¥–∞
- [ ] –ó–∞–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä—É
- [ ] –ó–∞—Ä–ø–ª–∞—Ç–∞ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
- [ ] –ö–æ–º—É–Ω–∞–ª—å–Ω—ñ –ø–æ—Å–ª—É–≥–∏
- [ ] –†–µ–∫–ª–∞–º–∞
- [ ] –Ü–Ω—à–µ

**–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó:**
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ

### 5. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –∑–∞–∫—É–ø–∫–æ—é —Ç–æ–≤–∞—Ä—ñ–≤

**–ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ —Ç–æ–≤–∞—Ä—É:**
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∏ "–ó–∞–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä—É" –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ —Ç–æ–≤–∞—Ä—É
- [ ] –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å—É–º–∏ –∑–∞–∫—É–ø–∫–∏ (purchase_price * quantity)
- [ ] –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ —ñ—Å—Ç–æ—Ä—ñ—ó –≤–∏—Ç—Ä–∞—Ç

**–ü—Ä–∏ –º–∞—Å–æ–≤–æ–º—É —ñ–º–ø–æ—Ä—Ç—ñ:**
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç –¥–ª—è –≤—Å—ñ—Ö —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤

---

## üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –§–∞–∑–∞ 1: –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–º—ñ—Å—ñ—ó (1-2 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–º—ñ—Å—ñ—é –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
2. ‚úÖ –í–∏–¥–∞–ª–∏—Ç–∏ –∑ backend API
3. ‚úÖ –í–∏–¥–∞–ª–∏—Ç–∏ –∑ frontend UI

### –§–∞–∑–∞ 2: –ë–∞–∑–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∏—Ç—Ä–∞—Ç (3-4 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é `expenses`
2. ‚úÖ Backend API –¥–ª—è –≤–∏—Ç—Ä–∞—Ç
3. ‚úÖ –°—Ç–æ—Ä—ñ–Ω–∫–∞ "–§—ñ–Ω–∞–Ω—Å–∏" –∑ —Ç–∞–±–ª–∏—Ü–µ—é –≤–∏—Ç—Ä–∞—Ç
4. ‚úÖ –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ "–î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É"

### –§–∞–∑–∞ 3: –°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å —Ç–∞ –º–∞—Ä–∂–∞ (2-3 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ –î–æ–¥–∞—Ç–∏ `purchase_price` –¥–æ —Ç–æ–≤–∞—Ä—ñ–≤
2. ‚úÖ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –º–∞—Ä–∂—ñ
3. ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–∞—Ä–∂—ñ –≤ —Ç–æ–≤–∞—Ä–∞—Ö
4. ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –§–∞–∑–∞ 4: –§—ñ–Ω–∞–Ω—Å–æ–≤–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (2-3 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ –û–Ω–æ–≤–∏—Ç–∏ –¥–∞—à–±–æ—Ä–¥ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. ‚úÖ –ì—Ä–∞—Ñ—ñ–∫–∏ –≤–∏—Ä—É—á–∫–∏ vs –≤–∏—Ç—Ä–∞—Ç
3. ‚úÖ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø—Ä–∏–±—É—Ç–∫—É
4. ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –∑–≤—ñ—Ç—ñ–≤

---

## üìù –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö

**Expense (–í–∏—Ç—Ä–∞—Ç–∞):**
```typescript
interface Expense {
  id: number;
  kiosk_id: number;
  category: 'rent' | 'purchase' | 'other';
  description: string;
  amount: number;
  date: string; // YYYY-MM-DD
  created_by: number;
  created_at: string;
}
```

**Product (–æ–Ω–æ–≤–ª–µ–Ω–∏–π):**
```typescript
interface Product {
  // ... —ñ—Å–Ω—É—é—á—ñ –ø–æ–ª—è
  purchase_price?: number; // –°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å
  margin?: number; // –†–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω–∞ –º–∞—Ä–∂–∞ (price - purchase_price)
  margin_percent?: number; // –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –≤ %
}
```

### API Endpoints

**Expenses:**
- `GET /api/expenses?startDate=&endDate=&category=&kiosk_id=`
- `POST /api/expenses` - body: `{ kiosk_id, category, description, amount, date }`
- `PUT /api/expenses/:id`
- `DELETE /api/expenses/:id`
- `GET /api/expenses/stats?period=day|week|month`

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ –º—ñ—Å—Ü—è, –¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–º—ñ—Å—ñ—è
- [ ] –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è `commission`
- [ ] –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è `expenses` —Ç–∞ `purchase_price`

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –¶–µ–π –ø–ª–∞–Ω —î –∂–∏–≤–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º —ñ –º–æ–∂–µ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—ñ —Ä–æ–∑—Ä–æ–±–∫–∏.

